# Tally
Project 2 - Operating Systems 2015

Αγγελική Φελιμέγκα
1115201300192

Το Project 2 αποτελείται από τα εξής αρχεία:root.c splitters_mergers.c sorters.c record.c
καθώς και απο τα αρχεία επικεφαλίδας: record.h

Έχω προσπαθήσει να υλοποιήσω την άσκηση όσο καλύτερα γίνεται αλλά δεν λειτουργέι σωστά!Επίσης, φτάνει μέχρι και βάθος 3!

Στο αρχείο root.c: Αρχίζει να δημιουργείται η δενδρική δομή.Το πρόγραμμα φτιάχνει τον κομβο πατέρα και δημιουργει το πρώτο ζητούμενο αριθμό παιδιών-κόμβων και δημιουργει και pipes για την μεταξυ τους επικοινωνία όπου ο γονιός διαβάζει και τα παιδιά γράφουν και named pipes για την επικοινωνία με τους splitters_mergers.Με exec το κάθε παιδί που δημιουργείται καλεί το splitters_mergers.c . Αν ο root λάβει δεδομένα από τα παιδιά του τότε τα εκτυπώνει και αν έχει δοθεί output file τα τυπώνει και εκεί.

Στο αρχείο splitters_mergers.c : Είναι υπεύθυνο για τον διαχωρισμό των αρχείων που θα περάσουν στο πιο κάτω επίπεδο και ανοίγει και αυτό pipes για να επικοινωνήσει με τον κόμβο πατέρα και named pipes για να επικοινωνήσει με τους κόμβους του πιο κάτω επιπέδου που καλεί με exec. Οι splitters_mergers λαμβάνουν τα δεδομένα των ταξινομημένων λιστών όλων των παιδιών τους και αφου λάβουν όλα τα δεδομένα τότε τα ταξινομούν σε μια καινούργια λίστα και με την σειρά τους τα στέλνουν στο κόμβο-γονιό τους και τερματιζουν. Μέσω named pipes στέλνουν την ταξινομημένη λίστα που φτιάχνουν στον κόμβο root.

Στο αρχείο sorters.c : Λαμβάνουν μέσω ενός αρχείου τις γραμμές του αρχικού αρχειου που πρέπει να επεξεργαστούν τις ταξινομούν και αθροίζουν τις ψήφους και μέσω pipes στέλνουν όλα τα δεδομένα τις λίστας στον κόμβο-γονιό ο οποίος με την σειρά του τα περνάει μέσω named pipes στον δικό του κόμβο-γονιό.

Στο αρχείο record.c : Υπάρχουν οι εξής συναρτήσεις: Δημιουργία αρχείου με τον επιθυμητό αριθμό γραμμών του αρχικού αρχείου, Δημιουργία λίστας, Εισαγωγή υποψηφιων και ψήφων στην λίστα(list_entry), Ταξινόμηση υποψηφίων με βάση το όνομα, set_value όπου τοποθετει σε κατάλληλες μεταβλητες τον καθε υποψηφιο με τις ψηφους του και ελευθερώνει τον κόμβο του, Διαγραφή λίστας, Εισαγωγή σε λίστα από κόμβο γονιό(list_entry_parent), δύο συναρτήσεις για pipes όπου στην μία γράφει το παιδί και στην άλλη διαβάζει ο γονιός και τέλος δύο συναρτήσεις για named pipes όπου στην μία γράφει το παιδί και στην άλλη διαβάζει ο γονιός.
